;; generated by with_js/apidir-tests/gen/duneinc_generator.ml
;; file: apidir-tests-dune.inc
(rule
 (alias gen)
 (mode (promote (until-clean)))
 (target sample_apidir_01.json)
 (deps (:apidir_gen gen/gen.exe))
 (action
  (with-stdout-to sample_apidir_01.json
   (run %{apidir_gen} sample_apidir_01.json))))
(rule
 (alias gen)
 (mode (promote (until-clean)))
 (target sample_apidir_01_no_mangling.json)
 (deps (:apidir_gen gen/gen.exe))
 (action
  (with-stdout-to sample_apidir_01_no_mangling.json
   (run %{apidir_gen} sample_apidir_01_no_mangling.json))))
(rule
 (alias gen)
 (mode (promote (until-clean)))
 (target sample_apidir_02.json)
 (deps (:apidir_gen gen/gen.exe))
 (action
  (with-stdout-to sample_apidir_02.json
   (run %{apidir_gen} sample_apidir_02.json))))
(rule
 (alias gen)
 (mode (promote (until-clean)))
 (target sample_apidir_03.json)
 (deps (:apidir_gen gen/gen.exe))
 (action
  (with-stdout-to sample_apidir_03.json
   (run %{apidir_gen} sample_apidir_03.json))))
(rule
 (alias gen)
 (mode (promote (until-clean)))
 (target sample_apidir_04.json)
 (deps (:apidir_gen gen/gen.exe))
 (action
  (with-stdout-to sample_apidir_04.json
   (run %{apidir_gen} sample_apidir_04.json))))
(rule
 (alias gen)
 (mode (promote (until-clean)))
 (target sample_apidir_05.json)
 (deps (:apidir_gen gen/gen.exe))
 (action
  (with-stdout-to sample_apidir_05.json
   (run %{apidir_gen} sample_apidir_05.json))))
(rule
 (alias gen)
 (mode (promote (until-clean)))
 (target sample_apidir_06.json)
 (deps (:apidir_gen gen/gen.exe))
 (action
  (with-stdout-to sample_apidir_06.json
   (run %{apidir_gen} sample_apidir_06.json))))
(rule
 (alias runtest)
 (deps
  (sandbox none)
  (:outputs
   sample_apidir_01.json
   sample_apidir_01_no_mangling.json
   sample_apidir_02.json
   sample_apidir_03.json
   sample_apidir_04.json
   sample_apidir_05.json
   sample_apidir_06.json)
  (file ../.redocly.yaml)
  ../node_modules)
 (action
  (with-accepted-exit-codes 0
   (run
    %{bin:npx}
    --prefix
    %{workspace_root}/with_js
    redocly
    lint
    --config
    ../.redocly.yaml
    %{outputs}))))
